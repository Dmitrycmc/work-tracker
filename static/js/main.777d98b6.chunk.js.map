{"version":3,"sources":["components/icon/icon.js","App.js","serviceWorker.js","index.js"],"names":["icon_icon","_ref","type","inactive","react_default","a","createElement","className","concat","index_es","icon","Sign","href","target","storage","getMode","localStorage","getItem","MODES","stop","setMode","value","setItem","getCurrent","setCurrent","getTotal","setTotal","getStartTime","setStartTime","play","pause","format","val","Time","delimiter","hideSeconds","_fromMs","milliseconds","fullSeconds","Math","floor","seconds","fullMinutes","minutes","hours","fromMs","Display","_ref2","current","total","showDelimiter","mode","App_Time","Pad","props","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_this$props","onClick","children","React","Component","Device","_this","tick","diffTime","startTime","nowTime","Date","now","setState","prevState","time","onStartPause","intervalId","clearInterval","setInterval","onReset","_this$state","state","_this$state2","App_Display","App_Pad","App","App_Device","App_Sign","Boolean","window","location","hostname","match","library","add","faIgloo","faPlay","faPause","faStop","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.777d98b6.chunk.js","sourcesContent":["import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport './icon.css';\r\n\r\nexport default ({type, inactive}) => (\r\n    <span className={`icon ${inactive ? \" indicator-inactive\" : \"\"}`}>\r\n        <FontAwesomeIcon icon={type} />\r\n    </span>\r\n)\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport Icon from './components/icon/icon';\n\nconst Sign = () => (\n  <div className=\"sign-wrapper\">\n    <span className=\"sign-title\">Designed & coded by</span>\n    <a href=\"https://codepen.io/Dimancmc/full/vaVJBj\" target=\"_blank\" className=\"sign-link\">\n        Lytov Dmitry\n    </a>\n  </div>\n);\n\nconst storage = {\n  getMode: () => +localStorage.getItem('mode') || MODES.stop,\n  setMode: value => localStorage.setItem('mode', value),\n  getCurrent: () => +localStorage.getItem('current') || 0,\n  setCurrent: value => localStorage.setItem('current', value),\n  getTotal: () => +localStorage.getItem('total') || 0,\n  setTotal: value => localStorage.setItem('total', value),\n  getStartTime: () => +localStorage.getItem('start-time') || 0,\n  setStartTime: value => localStorage.setItem('start-time', value)\n}\n\nconst MODES = {\n  stop: 0,\n  play: 1,\n  pause: 2\n};\n\nconst SPACE = 32;\n\nconst format = val => {\n  if (val < 10) return '0' + val;\n  return val;\n}\n\nconst fromMs = milliseconds => {\n  const fullSeconds = Math.floor(milliseconds / 1000);\n  const seconds = fullSeconds % 60;\n  const fullMinutes = Math.floor(fullSeconds / 60); \n  const minutes = fullMinutes % 60;\n  const hours = Math.floor(fullMinutes / 60);\n  \n  return {hours, minutes, seconds};\n}\n\nconst Time = ({value, className, delimiter, hideSeconds}) => {\n  const { hours, minutes, seconds } = fromMs(value);\n\n  return (\n    <span className={className}>\n      {format(hours)}\n      {delimiter ? ':' : ' '}\n      {format(minutes)}\n      {!hideSeconds && <span>{delimiter ? ':' : ' '}\n      {format(seconds)}</span>}\n    </span>\n  );\n}\n\nconst Display = ({current, total, showDelimiter, mode}) => (\n  <div className=\"display-wrapper\">\n    <span className=\"indicators-total-wrapper\">\n      <span className=\"indicators-wrapper\">\n        <Icon type=\"play\" inactive={mode != MODES.play} />\n        <Icon type=\"pause\" inactive={mode != MODES.pause} />\n        <Icon type=\"stop\" inactive={mode != MODES.stop} />\n      </span>\n      <Time delimiter hideSeconds className=\"display-total\" value={total} />\n    </span>\n    <Time delimiter={showDelimiter} className=\"display-current\" value={current} />\n  </div>\n);\n\nclass Pad extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { onClick, children, className } = this.props;\n    return (\n      <div className={`pad ${className || ''}`} onClick={onClick}>{children}</div>\n    );\n  };\n}\n\nclass Device extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showDelimiter: true,\n      intervalId: null    \n    };\n  }\n  /*\n  handleKeyDown = e => {\n    if (e.keyCode != SPACE || this.state.pressed) return;\n    this.props.onClick && this.props.onClick();\n    this.setState({pressed: true});\n  };\n  \n  handleKeyUp = e => {\n    if (e.keyCode != SPACE) return;\n    this.setState({pressed: false});\n  };\n  \n  componentDidMount() {\n    document.addEventListener('keydown', this.handleKeyDown);\n    document.addEventListener('keyup', this.handleKeyUp);\n  };\n  */\n  componentDidMount() {\n    const mode = storage.getMode();\n    let diffTime = 0;\n    let intervalId = null;\n    if (mode == MODES.play) {\n      const startTime = storage.getStartTime();\n      const nowTime = Date.now();\n      diffTime = nowTime - startTime;\n      intervalId = setInterval(this.tick, 500);\n    }\n    \n    this.setState({\n      mode: storage.getMode(),\n      time: storage.getCurrent() + diffTime,\n      total: storage.getTotal() + diffTime,\n      intervalId\n    });\n  }\n  \n  tick = () => {\n    let diffTime = 0;\n    const startTime = storage.getStartTime();\n    const nowTime = Date.now();\n    diffTime = nowTime - startTime;\n    \n    this.setState(prevState => {\n      const { showDelimiter, time, total } = prevState;\n      return {\n        showDelimiter: !showDelimiter,\n        time: storage.getCurrent() + diffTime,\n        total: storage.getTotal() + diffTime\n      };\n    });\n  }\n\n  onStartPause = () => {\n    this.setState(prevState => {\n      const { mode, intervalId, time, total } = prevState; \n      const isRun = mode == MODES.play; \n      if (isRun) {\n        clearInterval(intervalId);\n        storage.setMode(MODES.pause);\n        storage.setCurrent(time);\n        storage.setTotal(total);\n        return {\n          mode: MODES.pause,\n          intervalId: null,\n          showDelimiter: true\n        };\n      } else {\n        const intervalId = setInterval(this.tick, 500);\n        storage.setStartTime(Date.now());\n        storage.setMode(MODES.play);\n        return { \n          mode: MODES.play,\n          intervalId\n        };  \n      }\n    });\n  }\n  \n  onReset = () => {\n    const { intervalId, total, time } = this.state;\n    clearInterval(intervalId);\n    storage.setTotal(total);\n    storage.setCurrent(0);\n    storage.setMode(MODES.stop);\n    this.setState({\n      time: 0,\n      mode: MODES.stop,\n      intervalId: null\n    });\n  }\n  \n  render() {\n    const { showDelimiter, time, total, mode } = this.state;\n    return (\n      <div className=\"device\">\n        <Display \n          mode={mode}\n          showDelimiter={showDelimiter}\n          current={time} \n          total={total} \n          />\n        <Pad className='pad-start-pause' onClick={this.onStartPause}>\n          <span><Icon type=\"play\" />START</span>\n          <span><Icon type=\"pause\" />PAUSE</span>\n        </Pad>\n        <Pad className='pad-reset' onClick={this.onReset}>\n          <span><Icon type=\"stop\" />RESET</span>\n        </Pad>\n      </div>\n    );\n  }\n}\n\nconst App = () => (\n  <div className=\"app\">\n    <Device />\n    <Sign />\n  </div>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faIgloo, faPlay, faPause, faStop } from '@fortawesome/free-solid-svg-icons';\n\nlibrary.add(faIgloo, faPlay, faPause, faStop);\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}