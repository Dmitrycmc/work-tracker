(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){e.exports=n(31)},,,,,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),c=n.n(o),l=(n(19),n(2)),i=n(3),s=n(5),u=n(4),m=n(6),d=(n(20),n(12)),p=(n(26),function(e){var t=e.type,n=e.inactive;return r.a.createElement("span",{className:"icon ".concat(n?" indicator-inactive":"")},r.a.createElement(d.a,{icon:t}))}),v=n(13),f=(n(27),function(e){var t=e.onClick,n=e.children,a=e.className;return r.a.createElement("div",{className:"pad ".concat(a||""),onClick:t},n)}),h=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleKeyDown=function(e){var t=n.props.keyCode,a=n.state.pressed;e.keyCode!==t||a||n.setState({pressed:!0})},n.handleKeyUp=function(e){var t=n.props,a=t.keyCode,r=t.onClick;e.keyCode===a&&(n.setState({pressed:!1}),r&&r())},n.state={pressed:!1},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.children,a=e.className,o=this.state.pressed;return r.a.createElement(f,{onClick:t,children:n,className:"".concat(a," ").concat(o?"pressed":0)})}}]),t}(a.Component),y=function(e){var t=e.keyCode,n=Object(v.a)(e,["keyCode"]);return t?r.a.createElement(h,Object.assign({keyCode:t},n)):r.a.createElement(f,n)},E=function(e){return e<10?"0"+e:e},k=function(){return+localStorage.getItem("mode")||0},w=function(e){return localStorage.setItem("mode",e)},g=function(){return+localStorage.getItem("current")||0},b=function(e){return localStorage.setItem("current",e)},D=function(){return+localStorage.getItem("total")||0},S=function(e){return localStorage.setItem("total",e)},I=function(){return+localStorage.getItem("start-time")||0},N=function(e){return localStorage.setItem("start-time",e)},j={stop:0,play:1,pause:2},C=function(e){var t=e.value,n=e.className,a=e.delimiter,o=e.hideSeconds,c=function(e){var t=Math.floor(e/1e3),n=t%60,a=Math.floor(t/60),r=a%60;return{hours:Math.floor(a/60),minutes:r,seconds:n}}(t),l=c.hours,i=c.minutes,s=c.seconds;return r.a.createElement("span",{className:n},E(l),a?":":" ",E(i),!o&&r.a.createElement("span",null,a?":":" ",E(s)))},O=(n(28),function(e){var t=e.current,n=e.total,a=e.showDelimiter,o=e.mode,c=n<0;return r.a.createElement("div",{className:"display-wrapper"},r.a.createElement("span",{className:"indicators-total-wrapper"},r.a.createElement("span",{className:"indicators-wrapper"},r.a.createElement(p,{type:"play",inactive:o!==j.play}),r.a.createElement(p,{type:"pause",inactive:o!==j.pause}),r.a.createElement(p,{type:"stop",inactive:o!==j.stop})),r.a.createElement("span",{className:c?"":"inactive"},"-"),r.a.createElement(C,{delimiter:!0,hideSeconds:!0,className:"display-total",value:c?6e4-n:n})),r.a.createElement(C,{delimiter:a,className:"display-current",value:t}))}),M=(n(29),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).tick=function(){var e,t=I(),a=Date.now();e=a-t,n.setState(function(t){return{showDelimiter:!t.showDelimiter,current:g()+e,total:D()+e}})},n.onStartPause=function(){n.setState(function(e){var t=e.mode,a=e.intervalId,r=e.current,o=e.total;if(t===j.play)return clearInterval(a),w(j.pause),b(r),S(o),{mode:j.pause,intervalId:null,showDelimiter:!0};var c=setInterval(n.tick,500);return N(Date.now()),w(j.play),{mode:j.play,intervalId:c}})},n.onReset=function(){var e=n.state,t=e.intervalId,a=e.total;clearInterval(t),S(a),b(0),w(j.stop),n.setState({current:0,mode:j.stop,intervalId:null})},n.state={showDelimiter:!0,intervalId:null},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=0,t=null;if(k()===j.play){var n=I();e=Date.now()-n,t=setInterval(this.tick,500)}var a,r=+localStorage.getItem("last-subtraction")||0,o=function(){var e=new Date,t=function(e){return(e.getDay()||7)-1}(e),n=e.getDate();return e.setDate(n-t),e.setHours(0,0,0,0),e.getTime()}();if(r){var c=function(e){var t=Date.now()-e;return Math.floor(t/6048e5)}(r);c&&S(D()-30*c*36e5)}a=o,localStorage.setItem("last-subtraction",a),this.setState({mode:k(),current:g()+e,total:D()+e,intervalId:t})}},{key:"render",value:function(){var e=this.state,t=e.showDelimiter,n=e.current,a=e.total,o=e.mode;return r.a.createElement("div",{className:"device"},r.a.createElement(O,{mode:o,showDelimiter:t,current:n,total:a}),r.a.createElement(y,{className:"pad-start-pause",onClick:this.onStartPause,keyCode:32},r.a.createElement("span",null,r.a.createElement(p,{type:"play"}),"START"),r.a.createElement("span",null,r.a.createElement(p,{type:"pause"}),"PAUSE")),r.a.createElement(y,{className:"pad-reset",onClick:this.onReset},r.a.createElement("span",null,r.a.createElement(p,{type:"stop"}),"RESET")))}}]),t}(a.Component)),K=(n(30),function(){return r.a.createElement("div",{className:"sign-wrapper"},r.a.createElement("span",{className:"sign-title"},"Designed & coded by"),r.a.createElement("a",{href:"https://codepen.io/Dimancmc/full/vaVJBj",target:"_blank",rel:"noopener noreferrer",className:"sign-link"},"Lytov Dmitry"))}),L=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){Object.defineProperty(window,"drop",{value:function(e){!function(e){var t=D();S(function(e,t){return+e+6e4*t}(t,e))}(e)}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(M,null),r.a.createElement(K,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=n(8),P=n(9);U.b.add(P.b,P.a,P.c),c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[14,1,2]]]);
//# sourceMappingURL=main.b8bad529.chunk.js.map