{"version":3,"sources":["components/icon/icon.js","components/pad/pad.js","utils/time-utils.js","utils/storage-utils.js","containers/device/device-modes.js","utils/clipboard-utils.js","components/display/time.js","components/display/display.js","containers/device/device.js","utils/api-utils.js","components/sign/sign.js","containers/app/app.js","serviceWorker.js","index.js"],"names":["Icon","_ref","type","inactive","react_default","a","createElement","className","concat","index_es","icon","PadTemplate","onClick","children","PadWithKey","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleKeyDown","e","keyCode","pressed","state","setState","handleKeyUp","_this$props","document","addEventListener","removeEventListener","_this$props2","pad_PadTemplate","Component","Pad","_ref2","rest","objectWithoutProperties","pad_PadWithKey","assign","format","val","fromMs","milliseconds","fullSeconds","Math","floor","seconds","fullMinutes","minutes","hours","getMode","localStorage","getItem","setMode","value","setItem","getCurrent","setCurrent","getTotal","setTotal","getStartTime","setStartTime","MODES","stop","play","pause","copyTextToClipboard","text","onSuccess","onError","navigator","clipboard","writeText","then","textArea","body","appendChild","focus","select","execCommand","err","removeChild","fallbackCopyTextToClipboard","cursorPointer","cursor","Time","_fromMs","delimiter","hideSeconds","_fromMs2","style","Display","current","total","showDelimiter","mode","negative","icon_icon","time","Device","tick","diffTime","startTime","storage","nowTime","Date","now","prevState","onStartPause","url","xhr","XMLHttpRequest","open","setRequestHeader","withCredentials","onreadystatechange","readyState","console","log","responseText","send","postData","intervalId","clearInterval","setInterval","onReset","_this$state","SECOND","lastSubtraction","lastMonday","date","dayOfWeek","getDay","dateToDayOfWeek","dayOfMonth","getDate","setDate","setHours","getTime","getLastMonday","weeks","difference","getFullWeeksSince","_this$state2","display_display","pad_pad","Sign","href","target","rel","App","defineProperty","window","ms","addMinutesToMs","increaseTotal","device_device","sign_sign","Boolean","location","hostname","match","library","add","faPlay","faPause","faStop","ReactDOM","render","app_app","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6964ca68.chunk.js","sourcesContent":["import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport './icon.css';\r\n\r\nconst Icon = ({ type, inactive }) => (\r\n    <span className={`icon ${inactive ? ' indicator-inactive' : ''}`}>\r\n        <FontAwesomeIcon icon={type} />\r\n    </span>\r\n);\r\n\r\nexport default Icon;\r\n","import React, { Component } from 'react';\r\nimport './pad.css';\r\n\r\nconst PadTemplate = ({ onClick, children, className }) => {\r\n    return (\r\n        <div className={`pad ${className || ''}`} onClick={onClick}>\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\n\r\nclass PadWithKey extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            pressed: false\r\n        };\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        const { keyCode } = this.props;\r\n        const { pressed } = this.state;\r\n\r\n        if (e.keyCode !== keyCode || pressed) return;\r\n        this.setState({ pressed: true });\r\n    };\r\n\r\n    handleKeyUp = e => {\r\n        const { keyCode, onClick } = this.props;\r\n        if (e.keyCode !== keyCode) return;\r\n        this.setState({ pressed: false });\r\n        onClick && onClick();\r\n    };\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.handleKeyDown);\r\n        document.addEventListener('keyup', this.handleKeyUp);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('keydown', this.handleKeyDown);\r\n        document.removeEventListener('keyup', this.handleKeyUp);\r\n    }\r\n\r\n    render() {\r\n        const { onClick, children, className } = this.props;\r\n        const { pressed } = this.state;\r\n        return (\r\n            <PadTemplate onClick={onClick} children={children} className={`${className} ${pressed ? 'pressed' : 0}`} />\r\n        );\r\n    }\r\n}\r\n\r\nconst Pad = ({ keyCode, ...rest }) =>\r\n    keyCode ? <PadWithKey keyCode={keyCode} {...rest} /> : <PadTemplate {...rest} />;\r\n\r\nexport default Pad;\r\n","export const SECOND = 1000;\r\nexport const MINUTE = 60 * SECOND;\r\nexport const HOUR = 60 * MINUTE;\r\nconst DAY = 24 * HOUR;\r\nconst WEEK = 7 * DAY;\r\n\r\nexport const format = val => {\r\n    if (val < 10) return '0' + val;\r\n    return val;\r\n};\r\n\r\nexport const fromMs = milliseconds => {\r\n    const fullSeconds = Math.floor(milliseconds / SECOND);\r\n    const seconds = fullSeconds % (MINUTE / SECOND);\r\n    const fullMinutes = Math.floor(fullSeconds / (MINUTE / SECOND));\r\n    const minutes = fullMinutes % (HOUR / MINUTE);\r\n    const hours = Math.floor(fullMinutes / (HOUR / MINUTE));\r\n\r\n    return { hours, minutes, seconds };\r\n};\r\n\r\n/***\r\n * @param {Date} date\r\n * @returns {number[0-6]}\r\n * 0 - Monday\r\n * ...\r\n * 6 - Sunday\r\n */\r\nconst dateToDayOfWeek = date => (date.getDay() || 7) - 1;\r\n\r\nexport const getLastMonday = () => {\r\n    const date = new Date();\r\n    const dayOfWeek = dateToDayOfWeek(date);\r\n    const dayOfMonth = date.getDate();\r\n    date.setDate(dayOfMonth - dayOfWeek);\r\n    date.setHours(0, 0, 0, 0);\r\n    return date.getTime();\r\n}\r\n\r\nexport const getFullWeeksSince = date => {\r\n    const now = Date.now();\r\n    const difference = now - date;\r\n    return Math.floor(difference / WEEK);\r\n}\r\n\r\n/**\r\n * @param {number | string} ms\r\n * @param {number | string} minutes\r\n * @return {number} (ms + minutes) im ms\r\n */\r\nexport const addMinutesToMs = (ms, minutes) => + ms + minutes * MINUTE;","import { addMinutesToMs } from \"./time-utils\";\r\n\r\nconst MODE_KEY = 'mode';\r\nconst CURRENT_KEY = 'current';\r\nconst TOTAL_KEY = 'total';\r\nconst START_TIME_KEY = 'start-time';\r\nconst LAST_SUBTRACTION_KEY = 'last-subtraction';\r\n\r\nexport const getMode = () => +localStorage.getItem(MODE_KEY) || 0;\r\nexport const setMode = value => localStorage.setItem(MODE_KEY, value);\r\n\r\nexport const getCurrent = () => +localStorage.getItem(CURRENT_KEY) || 0;\r\nexport const setCurrent = value => localStorage.setItem(CURRENT_KEY, value);\r\n\r\nexport const getTotal = () => +localStorage.getItem(TOTAL_KEY) || 0;\r\nexport const setTotal = value => localStorage.setItem(TOTAL_KEY, value);\r\nexport const increaseTotal = minutes => {\r\n    const total = getTotal();\r\n    setTotal(addMinutesToMs(total, minutes));\r\n};\r\n\r\nexport const getStartTime = () => +localStorage.getItem(START_TIME_KEY) || 0;\r\nexport const setStartTime = value => localStorage.setItem(START_TIME_KEY, value);\r\n\r\nexport const getLastSubtraction = () => +localStorage.getItem(LAST_SUBTRACTION_KEY) || 0;\r\nexport const setLastSubtraction = value => localStorage.setItem(LAST_SUBTRACTION_KEY, value);\r\n","export const MODES = {\r\n    stop: 0,\r\n    play: 1,\r\n    pause: 2\r\n};\r\n","const fallbackCopyTextToClipboard = text => {\r\n    const textArea = document.createElement(\"textarea\");\r\n    textArea.value = text;\r\n    document.body.appendChild(textArea);\r\n    textArea.focus();\r\n    textArea.select();\r\n\r\n    try {\r\n        const successful = document.execCommand('copy');\r\n        if (!successful) {\r\n            throw 'failure';\r\n        }\r\n    } catch (err) {\r\n        throw err;\r\n    } finally {\r\n        document.body.removeChild(textArea);\r\n    }\r\n};\r\n\r\nexport const copyTextToClipboard = (text, onSuccess, onError) => {\r\n    if (navigator.clipboard) {\r\n        navigator.clipboard.writeText(text).then(onSuccess, onError);\r\n    } else {\r\n        try {\r\n            fallbackCopyTextToClipboard(text);\r\n            onSuccess();\r\n        } catch (e) {\r\n            onError(e);\r\n        }\r\n    }\r\n};","import React, { Component } from 'react';\r\nimport { format, fromMs } from '../../utils/time-utils';\r\nimport { copyTextToClipboard } from \"../../utils/clipboard-utils\";\r\n\r\nconst cursorPointer = {cursor: 'pointer'};\r\n\r\nclass Time extends Component {\r\n\r\n    onClick = () => {\r\n        const { value } = this.props;\r\n        const { hours, minutes } = fromMs(value);\r\n        const text = `${hours}h${minutes}m`;\r\n        // todo show modal or animation\r\n        copyTextToClipboard(text);\r\n    }\r\n\r\n    render() {\r\n        const { value, className, delimiter, hideSeconds } = this.props;\r\n        const { hours, minutes, seconds } = fromMs(value);\r\n\r\n        return (\r\n            <span style={cursorPointer} className={className} onClick={this.onClick}>\r\n            {format(hours)}\r\n                {delimiter ? ':' : ' '}\r\n                {format(minutes)}\r\n                {!hideSeconds && (\r\n                    <span>\r\n                    {delimiter ? ':' : ' '}\r\n                        {format(seconds)}\r\n                </span>\r\n                )}\r\n        </span>\r\n        );\r\n    }\r\n};\r\n\r\nexport default Time;","import React from 'react';\r\nimport Icon from '../icon/icon';\r\nimport { MODES } from '../../containers/device/device-modes';\r\nimport Time from './time';\r\nimport { MINUTE } from '../../utils/time-utils';\r\nimport './display.css';\r\n\r\nconst Display = ({ current, total, showDelimiter, mode }) => {\r\n    const negative = total < 0;\r\n\r\n    return (\r\n        <div className=\"display-wrapper\">\r\n            <span className=\"indicators-total-wrapper\">\r\n                <span className=\"indicators-wrapper\">\r\n                    <Icon type=\"play\" inactive={mode !== MODES.play} />\r\n                    <Icon type=\"pause\" inactive={mode !== MODES.pause} />\r\n                    <Icon type=\"stop\" inactive={mode !== MODES.stop} />\r\n                </span>\r\n                <span className={!negative ? \"inactive\" : \"\"}>-</span>\r\n                <Time delimiter hideSeconds className=\"display-total\" value={negative ? MINUTE - total : total} />\r\n            </span>\r\n            <Time delimiter={showDelimiter} className=\"display-current\" value={current} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Display;","import React, { Component } from 'react';\r\nimport Icon from '../../components/icon/icon';\r\nimport Pad from '../../components/pad/pad';\r\nimport * as storage from '../../utils/storage-utils';\r\nimport { MODES } from './device-modes';\r\nimport Display from '../../components/display/display';\r\nimport { getFullWeeksSince, getLastMonday, HOUR, SECOND } from '../../utils/time-utils';\r\nimport './device.css';\r\nimport {postData} from \"../../utils/api-utils\";\r\n\r\nconst SPACE_CODE = 32;\r\nconst HOURS_PER_WEEK = 30;\r\n\r\nclass Device extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showDelimiter: true,\r\n            intervalId: null\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const mode = storage.getMode();\r\n        let diffTime = 0;\r\n        let intervalId = null;\r\n        if (mode === MODES.play) {\r\n            const startTime = storage.getStartTime();\r\n            const nowTime = Date.now();\r\n            diffTime = nowTime - startTime;\r\n            intervalId = setInterval(this.tick, SECOND / 2);\r\n        }\r\n\r\n\r\n        const lastSubtraction = storage.getLastSubtraction();\r\n        const lastMonday = getLastMonday();\r\n\r\n        if (lastSubtraction) {\r\n            const weeks = getFullWeeksSince(lastSubtraction);\r\n            if (weeks) {\r\n                storage.setTotal(storage.getTotal() - weeks * HOURS_PER_WEEK * HOUR);\r\n            }\r\n        }\r\n        storage.setLastSubtraction(lastMonday);\r\n\r\n\r\n        this.setState({\r\n            mode: storage.getMode(),\r\n            current: storage.getCurrent() + diffTime,\r\n            total: storage.getTotal() + diffTime,\r\n            intervalId\r\n        });\r\n    }\r\n\r\n    tick = () => {\r\n        let diffTime = 0;\r\n        const startTime = storage.getStartTime();\r\n        const nowTime = Date.now();\r\n        diffTime = nowTime - startTime;\r\n\r\n        this.setState(prevState => {\r\n            const { showDelimiter } = prevState;\r\n            return {\r\n                showDelimiter: !showDelimiter,\r\n                current: storage.getCurrent() + diffTime,\r\n                total: storage.getTotal() + diffTime\r\n            };\r\n        });\r\n    };\r\n\r\n    onStartPause = () => {\r\n        postData('http://youtrack.iceberg.hockey/rest/issue/GC-1474/timetracking/workitem', `\r\n            <workItem>\r\n            <date>1551961238389</date>\r\n            <duration>1</duration>\r\n            <description>none</description>\r\n            <worktype>\r\n            <name>Development</name>\r\n            </worktype>\r\n            </workItem>\r\n        `);\r\n\r\n\r\n        this.setState(prevState => {\r\n            const { mode, intervalId, current, total } = prevState;\r\n            const isRun = mode === MODES.play;\r\n            if (isRun) {\r\n                clearInterval(intervalId);\r\n                storage.setMode(MODES.pause);\r\n                storage.setCurrent(current);\r\n                storage.setTotal(total);\r\n                return {\r\n                    mode: MODES.pause,\r\n                    intervalId: null,\r\n                    showDelimiter: true\r\n                };\r\n            } else {\r\n                const intervalId = setInterval(this.tick, 500);\r\n                storage.setStartTime(Date.now());\r\n                storage.setMode(MODES.play);\r\n                return {\r\n                    mode: MODES.play,\r\n                    intervalId\r\n                };\r\n            }\r\n        });\r\n    };\r\n\r\n    onReset = () => {\r\n        const { intervalId, total } = this.state;\r\n        clearInterval(intervalId);\r\n        storage.setTotal(total);\r\n        storage.setCurrent(0);\r\n        storage.setMode(MODES.stop);\r\n        this.setState({\r\n            current: 0,\r\n            mode: MODES.stop,\r\n            intervalId: null\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { showDelimiter, current, total, mode } = this.state;\r\n        return (\r\n            <div className=\"device\">\r\n                <Display mode={mode} showDelimiter={showDelimiter} current={current} total={total} />\r\n                <Pad className=\"pad-start-pause\" onClick={this.onStartPause} keyCode={SPACE_CODE}>\r\n                    <span>\r\n                        <Icon type=\"play\" />\r\n                        START\r\n                    </span>\r\n                    <span>\r\n                        <Icon type=\"pause\" />\r\n                        PAUSE\r\n                    </span>\r\n                </Pad>\r\n                <Pad className=\"pad-reset\" onClick={this.onReset}>\r\n                    <span>\r\n                        <Icon type=\"stop\" />\r\n                        RESET\r\n                    </span>\r\n                </Pad>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Device;\r\n","export function postData(url, body) {\r\n    const xhr = new XMLHttpRequest;\r\n    xhr.open(\"POST\", url, true);\r\n    xhr.setRequestHeader('Content-Type', 'text/xml');\r\n    xhr.setRequestHeader('Access-Control-Allow-Origin', '*');\r\n    xhr.setRequestHeader('Authorization', 'Bearer 1551996232691.d69e496a-e854-4c09-878f-d1281cdab158.25c602d6-bb59-4e7a-8bac-68d630bba366.d69e496a-e854-4c09-878f-d1281cdab158 0-0-0-0-0;1.MCwCFA1ZU4VwLhNSIcSEQkNvuapAnoGtAhR1NgUQi1ZNGx8xPUeTimOW7lup1w==');\r\n    xhr.withCredentials = 'true';\r\n    xhr.onreadystatechange = function() {\r\n        if(xhr.readyState == 4) {\r\n            console.log(\"response 4: \" + xhr.responseText);\r\n        } else {\r\n            console.log(\"state \" + xhr.readyState);\r\n        }\r\n    }\r\n    xhr.send(body);\r\n}","import React from 'react';\r\nimport './sign.css';\r\n\r\nconst Sign = () => (\r\n    <div className=\"sign-wrapper\">\r\n        <span className=\"sign-title\">Designed & coded by</span>\r\n        <a href=\"https://codepen.io/Dimancmc/full/vaVJBj\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"sign-link\">\r\n            Lytov Dmitry\r\n        </a>\r\n    </div>\r\n);\r\n\r\nexport default Sign;\r\n","import React, { Component } from 'react';\r\nimport './app.css';\r\nimport Device from '../device/device';\r\nimport Sign from '../../components/sign/sign';\r\nimport { increaseTotal } from \"../../utils/storage-utils\";\r\n\r\n\r\nclass App extends Component {\r\n\r\n    componentDidMount() {\r\n        Object.defineProperty(window, 'drop', {\r\n            value: value => { increaseTotal(value); },\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"app\">\r\n                <Device/>\r\n                <Sign/>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n        // [::1] is the IPv6 localhost address.\r\n        window.location.hostname === '[::1]' ||\r\n        // 127.0.0.1/8 is considered localhost for IPv4.\r\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n            return;\r\n        }\r\n\r\n        window.addEventListener('load', () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n            if (isLocalhost) {\r\n                // This is running on localhost. Let's check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl, config);\r\n\r\n                // Add some additional logging to localhost, pointing developers to the\r\n                // service worker/PWA documentation.\r\n                navigator.serviceWorker.ready.then(() => {\r\n                    console.log(\r\n                        'This web app is being served cache-first by a service ' +\r\n                            'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n                    );\r\n                });\r\n            } else {\r\n                // Is not localhost. Just register service worker\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then(registration => {\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing;\r\n                if (installingWorker == null) {\r\n                    return;\r\n                }\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === 'installed') {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the updated precached content has been fetched,\r\n                            // but the previous service worker will still serve the older\r\n                            // content until all client tabs are closed.\r\n                            console.log(\r\n                                'New content is available and will be used when all ' +\r\n                                    'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n                            );\r\n\r\n                            // Execute callback\r\n                            if (config && config.onUpdate) {\r\n                                config.onUpdate(registration);\r\n                            }\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.log('Content is cached for offline use.');\r\n\r\n                            // Execute callback\r\n                            if (config && config.onSuccess) {\r\n                                config.onSuccess(registration);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n            };\r\n        })\r\n        .catch(error => {\r\n            console.error('Error during service worker registration:', error);\r\n        });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n        .then(response => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            const contentType = response.headers.get('content-type');\r\n            if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then(registration => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload();\r\n                    });\r\n                });\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.log('No internet connection found. App is running in offline mode.');\r\n        });\r\n}\r\n\r\nexport function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister();\r\n        });\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './containers/app/app';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { faPlay, faPause, faStop } from '@fortawesome/free-solid-svg-icons';\r\n\r\nlibrary.add(faPlay, faPause, faStop);\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}