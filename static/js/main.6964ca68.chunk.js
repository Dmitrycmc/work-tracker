(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){e.exports=n(31)},,,,,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),c=n.n(o),i=(n(19),n(2)),l=n(3),s=n(5),u=n(4),d=n(6),m=(n(20),n(12)),p=(n(26),function(e){var t=e.type,n=e.inactive;return r.a.createElement("span",{className:"icon ".concat(n?" indicator-inactive":"")},r.a.createElement(m.a,{icon:t}))}),v=n(13),f=(n(27),function(e){var t=e.onClick,n=e.children,a=e.className;return r.a.createElement("div",{className:"pad ".concat(a||""),onClick:t},n)}),h=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleKeyDown=function(e){var t=n.props.keyCode,a=n.state.pressed;e.keyCode!==t||a||n.setState({pressed:!0})},n.handleKeyUp=function(e){var t=n.props,a=t.keyCode,r=t.onClick;e.keyCode===a&&(n.setState({pressed:!1}),r&&r())},n.state={pressed:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.children,a=e.className,o=this.state.pressed;return r.a.createElement(f,{onClick:t,children:n,className:"".concat(a," ").concat(o?"pressed":0)})}}]),t}(a.Component),y=function(e){var t=e.keyCode,n=Object(v.a)(e,["keyCode"]);return t?r.a.createElement(h,Object.assign({keyCode:t},n)):r.a.createElement(f,n)},w=function(e){return e<10?"0"+e:e},k=function(e){var t=Math.floor(e/1e3),n=t%60,a=Math.floor(t/60),r=a%60;return{hours:Math.floor(a/60),minutes:r,seconds:n}},E=function(){return+localStorage.getItem("mode")||0},b=function(e){return localStorage.setItem("mode",e)},g=function(){return+localStorage.getItem("current")||0},C=function(e){return localStorage.setItem("current",e)},S=function(){return+localStorage.getItem("total")||0},O=function(e){return localStorage.setItem("total",e)},D=function(){return+localStorage.getItem("start-time")||0},I=function(e){return localStorage.setItem("start-time",e)},j={stop:0,play:1,pause:2},N=function(e,t,n){if(navigator.clipboard)navigator.clipboard.writeText(e).then(t,n);else try{!function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select();try{if(!document.execCommand("copy"))throw"failure"}catch(n){throw n}finally{document.body.removeChild(t)}}(e),t()}catch(a){n(a)}},x={cursor:"pointer"},A=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){var e=n.props.value,t=k(e),a=t.hours,r=t.minutes,o="".concat(a,"h").concat(r,"m");N(o)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.className,a=e.delimiter,o=e.hideSeconds,c=k(t),i=c.hours,l=c.minutes,s=c.seconds;return r.a.createElement("span",{style:x,className:n,onClick:this.onClick},w(i),a?":":" ",w(l),!o&&r.a.createElement("span",null,a?":":" ",w(s)))}}]),t}(a.Component),M=(n(28),function(e){var t=e.current,n=e.total,a=e.showDelimiter,o=e.mode,c=n<0;return r.a.createElement("div",{className:"display-wrapper"},r.a.createElement("span",{className:"indicators-total-wrapper"},r.a.createElement("span",{className:"indicators-wrapper"},r.a.createElement(p,{type:"play",inactive:o!==j.play}),r.a.createElement(p,{type:"pause",inactive:o!==j.pause}),r.a.createElement(p,{type:"stop",inactive:o!==j.stop})),r.a.createElement("span",{className:c?"":"inactive"},"-"),r.a.createElement(A,{delimiter:!0,hideSeconds:!0,className:"display-total",value:c?6e4-n:n})),r.a.createElement(A,{delimiter:a,className:"display-current",value:t}))});n(29);var R=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).tick=function(){var e,t=D(),a=Date.now();e=a-t,n.setState(function(t){return{showDelimiter:!t.showDelimiter,current:g()+e,total:S()+e}})},n.onStartPause=function(){!function(e,t){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","text/xml"),n.setRequestHeader("Access-Control-Allow-Origin","*"),n.setRequestHeader("Authorization","Bearer 1551996232691.d69e496a-e854-4c09-878f-d1281cdab158.25c602d6-bb59-4e7a-8bac-68d630bba366.d69e496a-e854-4c09-878f-d1281cdab158 0-0-0-0-0;1.MCwCFA1ZU4VwLhNSIcSEQkNvuapAnoGtAhR1NgUQi1ZNGx8xPUeTimOW7lup1w=="),n.withCredentials="true",n.onreadystatechange=function(){4==n.readyState?console.log("response 4: "+n.responseText):console.log("state "+n.readyState)},n.send(t)}("http://youtrack.iceberg.hockey/rest/issue/GC-1474/timetracking/workitem","\n            <workItem>\n            <date>1551961238389</date>\n            <duration>1</duration>\n            <description>none</description>\n            <worktype>\n            <name>Development</name>\n            </worktype>\n            </workItem>\n        "),n.setState(function(e){var t=e.mode,a=e.intervalId,r=e.current,o=e.total;if(t===j.play)return clearInterval(a),b(j.pause),C(r),O(o),{mode:j.pause,intervalId:null,showDelimiter:!0};var c=setInterval(n.tick,500);return I(Date.now()),b(j.play),{mode:j.play,intervalId:c}})},n.onReset=function(){var e=n.state,t=e.intervalId,a=e.total;clearInterval(t),O(a),C(0),b(j.stop),n.setState({current:0,mode:j.stop,intervalId:null})},n.state={showDelimiter:!0,intervalId:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=0,t=null;if(E()===j.play){var n=D();e=Date.now()-n,t=setInterval(this.tick,500)}var a,r=+localStorage.getItem("last-subtraction")||0,o=function(){var e=new Date,t=function(e){return(e.getDay()||7)-1}(e),n=e.getDate();return e.setDate(n-t),e.setHours(0,0,0,0),e.getTime()}();if(r){var c=function(e){var t=Date.now()-e;return Math.floor(t/6048e5)}(r);c&&O(S()-30*c*36e5)}a=o,localStorage.setItem("last-subtraction",a),this.setState({mode:E(),current:g()+e,total:S()+e,intervalId:t})}},{key:"render",value:function(){var e=this.state,t=e.showDelimiter,n=e.current,a=e.total,o=e.mode;return r.a.createElement("div",{className:"device"},r.a.createElement(M,{mode:o,showDelimiter:t,current:n,total:a}),r.a.createElement(y,{className:"pad-start-pause",onClick:this.onStartPause,keyCode:32},r.a.createElement("span",null,r.a.createElement(p,{type:"play"}),"START"),r.a.createElement("span",null,r.a.createElement(p,{type:"pause"}),"PAUSE")),r.a.createElement(y,{className:"pad-reset",onClick:this.onReset},r.a.createElement("span",null,r.a.createElement(p,{type:"stop"}),"RESET")))}}]),t}(a.Component),T=(n(30),function(){return r.a.createElement("div",{className:"sign-wrapper"},r.a.createElement("span",{className:"sign-title"},"Designed & coded by"),r.a.createElement("a",{href:"https://codepen.io/Dimancmc/full/vaVJBj",target:"_blank",rel:"noopener noreferrer",className:"sign-link"},"Lytov Dmitry"))}),U=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){Object.defineProperty(window,"drop",{value:function(e){!function(e){var t=S();O(function(e,t){return+e+6e4*t}(t,e))}(e)}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(R,null),r.a.createElement(T,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=n(8),K=n(9);L.b.add(K.b,K.a,K.c),c.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[14,1,2]]]);
//# sourceMappingURL=main.6964ca68.chunk.js.map